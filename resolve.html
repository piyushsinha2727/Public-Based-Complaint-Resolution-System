<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolve & Restore | Resolver Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
 <a href="index.html" class="logout-btn" id="logoutBtn">Logout ðŸšª</a>
    
<body class="resolve-page">

<div class="star-bg"></div>

<nav class="admin-nav">
    <div class="greeting-box">
        <span id="dayGreeting">Good Evening</span>, Resolver | <span id="dateTimeDisplay"></span>
    </div>
    <div class="nav-title">Resolver Portal</div>
    <a href="home.html" class="logout-btn">Logout ðŸšª</a>
</nav>

<div class="dashboard-container">
    <div class="dashboard-grid">
        
        <div class="glass-card table-section blue-glow">
            <h3 class="section-title">Assigned Tasks</h3>
            <div class="table-wrapper">
                <table class="mini-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Description</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="assignedTasksBody">
                        <tr>
                            <td>#101</td>
                            <td>Water Leakage</td>
                            <td><span class="assigned-status">Assigned</span></td>
                            <td><button class="select-btn" onclick="openResolution('#101', 'Water Leakage', 'Repair the pipe near the main gate.')">Select</button></td>
                        </tr>
                        <tr>
                            <td>#105</td>
                            <td>Short Circuit</td>
                            <td><span class="high-priority-status">High Priority</span></td>
                            <td><button class="select-btn" onclick="openResolution('#105', 'Short Circuit', 'Replace burnt junction box wires.')">Select</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="glass-card portal-section green-glow">
            <h3 class="section-title">Resolution Portal</h3>
            <div id="resolutionForm">
                <div class="field">
                    <label>Selected Task ID</label>
                    <input type="text" id="activeTaskId" readonly placeholder="Select a task from the list">
                </div>

                <div class="field">
                    <label>Admin Remarks / Work Detail</label>
                    <textarea id="adminRemarks" readonly placeholder="Task details will appear here..." rows="4"></textarea>
                </div>

                <div class="upload-grid">
                    <div class="upload-box-wrapper">
                        <label class="upload-area" for="afterImage">
                            <div class="upload-icon">ðŸ“¤</div>
                            <p>Upload Final Proof</p>
                            <span>Upload Photo</span>
                            <input type="file" id="afterImage" hidden accept="image/*">
                        </label>
                    </div>
                    <div class="verification-card">
                        <p><b>Verification</b></p>
                        <p style="font-size:12px; color:#cbd5f5;">
                            Upload a clear photo of the fixed site. AI will compare this with the complaint image.
                        </p>
                    </div>
                </div>

                <button class="confirm-btn" id="submitProofBtn">
                    Submit Work Proof
                </button>
            </div>
        </div>
    </div>
</div>

<footer class="admin-footer">
    <p>All Rights Reserved @2025-2026 | PBCRS Copyright Claimed</p>
</footer>

<div class="loader" id="loader"></div>
<div class="toast" id="toast"></div>

<script src="script.js"></script>
</body>
</html>

